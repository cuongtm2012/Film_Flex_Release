# ==============================================================================
# Environment Configuration for Local Development with Remote Services
# Purpose: Connect to PostgreSQL and Elasticsearch on remote server via SSH tunnel
# Server: 38.54.14.154
# ==============================================================================

# Node Environment
NODE_ENV=development
PORT=5000

# ===========================================
# Remote Database - DIRECT CONNECTION
# ===========================================
# PostgreSQL on remote server (DIRECT - No SSH tunnel needed!)
# Server: 38.54.14.154 (ports are publicly exposed)
DATABASE_URL=postgresql://filmflex:filmflex2024@38.54.14.154:5432/filmflex

# ===========================================
# Remote Elasticsearch - DIRECT CONNECTION
# ===========================================
# Elasticsearch on remote server (DIRECT - No SSH tunnel needed!)
ELASTICSEARCH_URL=http://38.54.14.154:9200
ELASTICSEARCH_NODE=http://38.54.14.154:9200

# ===========================================
# Redis Configuration (Remote Server)
# ===========================================
# Redis on remote server - DIRECT CONNECTION
# Note: Make sure Redis port 6379 is exposed on server
REDIS_HOST=38.54.14.154
REDIS_PORT=6379
REDIS_PASSWORD=

# ===========================================
# Alternative: SSH Tunnel (if ports are blocked in future)
# ===========================================
# Run: .\scripts\tools\connect-remote-db.ps1 -Both
# Then use: postgresql://filmflex:filmflex2024@localhost:5433/filmflex
# And: http://localhost:9201

# ===========================================
# Session & Security
# ===========================================
SESSION_SECRET=filmflex_development_secret_2024

# ===========================================
# CORS & Client Configuration
# ===========================================
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5000,http://localhost:5173
CLIENT_URL=http://localhost:5173

# ===========================================
# OAuth Configuration (Local Development)
# ===========================================
# For local testing: Use local OAuth (disable Cloudflare Worker)
# Google OAuth - Get credentials from: https://console.cloud.google.com/
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# Facebook OAuth - Get credentials from: https://developers.facebook.com/
FACEBOOK_APP_ID=your_facebook_app_id
FACEBOOK_APP_SECRET=your_facebook_app_secret

# Disable Cloudflare OAuth for local development
# (Enable only in production after deploying Worker)
USE_CLOUDFLARE_OAUTH=false
CLOUDFLARE_WORKER_URL=https://phimgg.com

# ===========================================
# Email Configuration (Local)
# ===========================================
USE_CLOUDFLARE_EMAIL=false
SENDGRID_API_KEY=your_sendgrid_api_key
FROM_EMAIL=noreply@filmflex.com
FROM_NAME=PhimGG

# Resend API for Email Verification
RESEND_API_KEY=re_gZx96ngc_MDZ9jgj5RWaqGJeC6mnuv5hN

# ===========================================
# Domain Configuration
# ===========================================
DOMAIN=localhost
SERVER_IP=localhost

# ===========================================
# Additional Configuration
# ===========================================
LOG_LEVEL=debug

# ===========================================
# Firebase Configuration (Notifications)
# ===========================================
# Firebase Admin SDK - Service Account Path
FIREBASE_SERVICE_ACCOUNT_PATH=./server/config/phimgg-firebase-service-account.json

# Firebase Client Config (Frontend)
VITE_FIREBASE_API_KEY=AIzaSyCmErVH08hKw8SjwHSAv9d70H7Y4sd6sl4
VITE_FIREBASE_AUTH_DOMAIN=phimgg.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=phimgg
VITE_FIREBASE_STORAGE_BUCKET=phimgg.firebasestorage.app
VITE_FIREBASE_MESSAGING_SENDER_ID=296875568557
VITE_FIREBASE_APP_ID=1:296875568557:web:44b4265d910a318b808524
VITE_FIREBASE_MEASUREMENT_ID=G-FYCCKFPY9Y

# Firebase VAPID Key (Web Push Certificate)
# Get from: Firebase Console → Project Settings → Cloud Messaging → Web Push certificates
VITE_FIREBASE_VAPID_KEY=BAzO7hVFabuZWEXsoH9-0-FqbSon1ps7q_eUn0DR51d2CyRYROrBqS3cz0hdnTNNtrLZjcdEGIf2mYpMNU_BKgQ

# ===========================================
# Elasticsearch Sync Configuration
# ===========================================
# Auto-sync to Elasticsearch after saving to PostgreSQL
ELASTICSEARCH_AUTO_SYNC=true

# Cron interval for scheduled sync (cron expression)
# Examples: '0 */2 * * *' = every 2 hours, '0 * * * *' = every hour
ELASTICSEARCH_SYNC_INTERVAL=0 */2 * * *

# Batch size for bulk operations
ELASTICSEARCH_BATCH_SIZE=100
